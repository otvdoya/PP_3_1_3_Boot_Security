CREATE TABLE users(
    id INT PRIMARY KEY AUTO_INCREMENT,
    username VARCHAR(255) NOT NULL,
    password VARCHAR(255) NOT NULL,
    email VARCHAR(255),
    age INT
);

CREATE TABLE roles(
    id INT PRIMARY KEY AUTO_INCREMENT,
    name VARCHAR(255) NOT NULL
);


# username: admin; password: admin
# username: user; password: user
# username admin_user; password: admin_user

INSERT INTO users (username, password, email, age)
VALUES  ('admin',
        '$2a$12$iZofc3Wozl/T5zz7lCCFkePnrsISfUzGq1P8hncfTKtATwwCOBrN2',
        '@admin.ru',
        27),
        ('user',
         '$2a$12$t1npmCVTS5l41VYoTBzE.eA.qHvvIzTJ76zw/cC6AkhBuwBIOhYea',
         '@user.ru',
         32),
        ('admin_user',
         '$2a$12$6RWOOAT95PaUsjHIQnzM3.FjqfUFSUi./d3EhSmqwY6rF8DngDm8u',
         '@admin_user',
         22);

INSERT INTO roles (name)
VALUES ('ROLE_USER'),
       ('ROLE_ADMIN');

CREATE TABLE users_roles (
    user_id INT NOT NULL,
    role_id INT NOT NULL,
    FOREIGN KEY (user_id) REFERENCES users(id),
    FOREIGN KEY (role_id) REFERENCES roles(id)
);

INSERT INTO users_roles (user_id, role_id)
VALUES(1, 2),
      (2, 1),
      (3, 1),
      (3, 2);

